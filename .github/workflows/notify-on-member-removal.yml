name: Member removal notification
on:
  push:
    paths:
      - '!*.md' # Change this to the file extension or name you want to track

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Notify on file removal
        if: ${{ github.event.head_commit.removed != '' }}
        uses: microsoft/teams-notify@v1
        with:
          webhook: ${{ secrets.TEAMS_CHANNEL_WEBHOOK_URL }}
          title: "File removed"
          message: "A file has been removed in a commit."
          summary: "The following file has been removed: ${{ github.event.head_commit.removed | join(', ') }}"
          themeColor: '0072C6'
          activityImage: 'https://github.com/github.png'
          activityTitle: 'GitHub'
          activitySubtitle: '${{ github.event.repository.name }}'
          activityText: 'File removal notification'
